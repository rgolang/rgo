bar($a: int, $b: int, $ok: ()):
    @add($a: int, $b: int, $ok)


bar_unwrapper($env_end: int):
    $__env_end = @pin($env_end)
    $a = @field($__env_end, -3)
    $b = @field($__env_end, -2)
    $ok = @field($__env_end, -1)
    @release($__env_end)
    @jumpargs(bar, $a: int, $b: int, $ok: ())


bar_deep_release($env_end: int):
    $__env_end = @pin($env_end)
    $__num_remaining = @field($__env_end, 5)
    @gt(bar_release_skip_2, $__num_remaining, 0)
    $bar_release_field_2 = @field($__env_end, -1)
    @callptr($bar_release_field_2)
bar_release_skip_2:
    @release($__env_end)
    @return()


bar_deepcopy($env_end: int):
    $__env_end = @pin($env_end)
    $num_remaining = @field($__env_end, 5)
    @gt(bar_deepcopy_skip_2, $num_remaining, 0)
    @deepcopy($bar_deepcopy_field_2, $__env_end, -1)
bar_deepcopy_skip_2:
    @return()


_5_foo($ok: (), $x: int):
    @printf($_6: str! = "got: %d\n", $x: int, $ok)


_5_foo_unwrapper($env_end: int):
    $__env_end = @pin($env_end)
    $ok = @field($__env_end, -2)
    $x = @field($__env_end, -1)
    @release($__env_end)
    @jumpargs(_5_foo, $ok: (), $x: int)


_5_foo_deep_release($env_end: int):
    $__env_end = @pin($env_end)
    $__num_remaining = @field($__env_end, 5)
    @gt(_5_foo_release_skip_0, $__num_remaining, 1)
    $_5_foo_release_field_0 = @field($__env_end, -2)
    @callptr($_5_foo_release_field_0)
_5_foo_release_skip_0:
    @release($__env_end)
    @return()


_5_foo_deepcopy($env_end: int):
    $__env_end = @pin($env_end)
    $num_remaining = @field($__env_end, 5)
    @gt(_5_foo_deepcopy_skip_0, $num_remaining, 1)
    @deepcopy($_5_foo_deepcopy_field_0, $__env_end, -2)
_5_foo_deepcopy_skip_0:
    @return()


foo($ok: ()):
    $_7_foo = @newclosure<(), int>(_5_foo, $ok: ())
    $c1 = @newclosure<int, int, ($_0_: int)>(bar, $_1: int = 1, $_2: int = 2)
    @jumpclosure($c1, $_7_foo: int)


foo_unwrapper($env_end: int):
    $__env_end = @pin($env_end)
    $ok = @field($__env_end, -1)
    @release($__env_end)
    @jumpargs(foo, $ok: ())


foo_deep_release($env_end: int):
    $__env_end = @pin($env_end)
    $__num_remaining = @field($__env_end, 5)
    @gt(foo_release_skip_0, $__num_remaining, 0)
    $foo_release_field_0 = @field($__env_end, -1)
    @callptr($foo_release_field_0)
foo_release_skip_0:
    @release($__env_end)
    @return()


foo_deepcopy($env_end: int):
    $__env_end = @pin($env_end)
    $num_remaining = @field($__env_end, 5)
    @gt(foo_deepcopy_skip_0, $num_remaining, 0)
    @deepcopy($foo_deepcopy_field_0, $__env_end, -1)
foo_deepcopy_skip_0:
    @return()


_9_lambda():
    @exit($_10: int = 0)


_9_lambda_unwrapper($env_end: int):
    $__env_end = @pin($env_end)
    @release($__env_end)
    @jumpargs(_9_lambda)


_9_lambda_deep_release($env_end: int):
    $__env_end = @pin($env_end)
    @release($__env_end)
    @return()


_9_lambda_deepcopy($env_end: int):
    $__env_end = @pin($env_end)
    @return()


_start():
    $_9_lambda = @newclosure<>(_9_lambda)
    @jumpargs(foo, $_9_lambda: ())

