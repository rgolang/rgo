nil($next: (int, ((int, ()), ())), $end: ()) {
    release $next
    $end()
}

nil_unwrapper($env_end: int) {
    $next: (int, ((int, ()), ())) = $env_end - 2 words
    $end: () = $env_end - 1 words
    nil($next, $end)
}

cons($head: int, $tail: ((int, ()), ()), $next: (int, ((int, ()), ())), $end: ()) {
    release $end
    $next($head, $tail)
}

cons_unwrapper($env_end: int) {
    $head: int = $env_end - 4 words
    $tail: ((int, ()), ()) = $env_end - 3 words
    $next: (int, ((int, ()), ())) = $env_end - 2 words
    $end: () = $env_end - 1 words
    cons($head, $tail, $next, $end)
}

_iterate_0($iterate: ((int, ()), ((int, ()), ()), ()), $handler: (int, ()), $end: (), $head: int, $tail: ((int, ()), ())) {
    $_iterate__iterate_0_iterate_0 = ($iterate, {int, int, int})
    $handler($head, $_iterate__iterate_0_iterate_0)
}

_iterate_0_unwrapper($env_end: int) {
    $iterate: ((int, ()), ((int, ()), ()), ()) = $env_end - 5 words
    $handler: (int, ()) = $env_end - 4 words
    $end: () = $env_end - 3 words
    $head: int = $env_end - 2 words
    $tail: ((int, ()), ()) = $env_end - 1 words
    _iterate_0($iterate, $handler, $end, $head, $tail)
}

iterate($handler: (int, ()), $arr: ((int, ()), ()), $end: ()) {
    $iterate = (iterate_unwrapper, {})
    $_iterate_1 = (_iterate_0_unwrapper, {((int, ()), ((int, ()), ()), ()), (int, ()), ()})
    $_iterate_1.$iterate = $iterate
    $_iterate_1.$handler = $handler
    $_iterate_1.$end = $end

    $arr($_iterate_1, $end)
}

iterate_unwrapper($env_end: int) {
    $handler: (int, ()) = $env_end - 3 words
    $arr: ((int, ()), ()) = $env_end - 2 words
    $end: () = $env_end - 1 words
    iterate($handler, $arr, $end)
}

handler($n: int, $ok: ()) {
    $_handler_0 = "%d, "
    $__result = @printf($_handler_0, $n)
    $ok($__result)
}

handler_unwrapper($env_end: int) {
    $n: int = $env_end - 2 words
    $ok: () = $env_end - 1 words
    handler($n, $ok)
}

_end_1() {
    $_end__end_1_0 = 0
    exit($_end__end_1_0)
}

_end_1_unwrapper($env_end: int) {
    _end_1()
}

exit($code: int) {
    syscall exit($code)
}

exit_unwrapper($env_end: int) {
    $code: int = $env_end - 1 words
    exit($code)
}

end() {
    $_end_0 = "end\n"
    $_end_1 = (_end_1_unwrapper, {})
    $__result = @printf($_end_0)
    $_end_1($__result)
}

end_unwrapper($env_end: int) {
    end()
}

_start() {
    $_10 = 1
    $_11 = 2
    $_12 = 3
    $_13 = 4
    $nil = (nil_unwrapper, {})
    $_cons_14 = (cons_unwrapper, {int, ((int, ()), ())})
    $_cons_14.$head = $_13
    $_cons_14.$tail = $nil

    $_cons_15 = (cons_unwrapper, {int, ((int, ()), ())})
    $_cons_15.$head = $_12
    $_cons_15.$tail = $_cons_14

    $_cons_16 = (cons_unwrapper, {int, ((int, ()), ())})
    $_cons_16.$head = $_11
    $_cons_16.$tail = $_cons_15

    $mylist = (cons_unwrapper, {int, ((int, ()), ())})
    $mylist.$head = $_10
    $mylist.$tail = $_cons_16

    $handler = (handler_unwrapper, {})
    $end = (end_unwrapper, {})
    iterate($handler, $mylist, $end)
}
