nil($next: (int, ((int, list), ())), $end: ()) {
    release $next
    $end()
}

nil_unwrapper($env_end: int) {
    $next: (int, ((int, list), ())) = $env_end - 2w
    $end: () = $env_end - 1w
    release $env_end
    nil($next, $end)
}

nil_release($env_end: int) {
    $__num_curried: int = $env_end + 5w
    if ($__num_curried < 2){ jump nil_release_if_num_curried_lt_2 }
    call @release_heap_ptr($env_end - 2w)
    call @release_heap_ptr($env_end - 1w)
    jump nil_release_done
    nil_release_if_num_curried_lt_2:
    if ($__num_curried < 1){ jump nil_release_if_num_curried_lt_1 }
    call @release_heap_ptr($env_end - 2w)
    jump nil_release_done
    nil_release_if_num_curried_lt_1:
    nil_release_done:
    return
}

nil_deepcopy($env_end: int) {
    $num_curried: int = $env_end + 5w
    if ($num_curried < 2){ jump nil_deepcopy_if_num_curried_lt_2 }
    new_env + 0w = call @deepcopy_heap_ptr($env_end - 2w)
    new_env + 1w = call @deepcopy_heap_ptr($env_end - 1w)
    jump nil_deepcopy_done
    nil_deepcopy_if_num_curried_lt_2:
    if ($num_curried < 1){ jump nil_deepcopy_if_num_curried_lt_1 }
    new_env + 0w = call @deepcopy_heap_ptr($env_end - 2w)
    jump nil_deepcopy_done
    nil_deepcopy_if_num_curried_lt_1:
    nil_deepcopy_done:
    return
}

cons($head: int, $tail: ((int, list), ()), $next: (int, ((int, list), ())), $end: ()) {
    release $end
    $next($head, $tail)
}

cons_unwrapper($env_end: int) {
    $head: int = $env_end - 4w
    $tail: ((int, list), ()) = $env_end - 3w
    $next: (int, ((int, list), ())) = $env_end - 2w
    $end: () = $env_end - 1w
    release $env_end
    cons($head, $tail, $next, $end)
}

cons_release($env_end: int) {
    $__num_curried: int = $env_end + 5w
    if ($__num_curried < 3){ jump cons_release_if_num_curried_lt_3 }
    call @release_heap_ptr($env_end - 3w)
    call @release_heap_ptr($env_end - 2w)
    call @release_heap_ptr($env_end - 1w)
    jump cons_release_done
    cons_release_if_num_curried_lt_3:
    if ($__num_curried < 2){ jump cons_release_if_num_curried_lt_2 }
    call @release_heap_ptr($env_end - 3w)
    call @release_heap_ptr($env_end - 2w)
    jump cons_release_done
    cons_release_if_num_curried_lt_2:
    if ($__num_curried < 1){ jump cons_release_if_num_curried_lt_1 }
    call @release_heap_ptr($env_end - 3w)
    jump cons_release_done
    cons_release_if_num_curried_lt_1:
    cons_release_done:
    return
}

cons_deepcopy($env_end: int) {
    $num_curried: int = $env_end + 5w
    if ($num_curried < 3){ jump cons_deepcopy_if_num_curried_lt_3 }
    new_env + 1w = call @deepcopy_heap_ptr($env_end - 3w)
    new_env + 2w = call @deepcopy_heap_ptr($env_end - 2w)
    new_env + 3w = call @deepcopy_heap_ptr($env_end - 1w)
    jump cons_deepcopy_done
    cons_deepcopy_if_num_curried_lt_3:
    if ($num_curried < 2){ jump cons_deepcopy_if_num_curried_lt_2 }
    new_env + 1w = call @deepcopy_heap_ptr($env_end - 3w)
    new_env + 2w = call @deepcopy_heap_ptr($env_end - 2w)
    jump cons_deepcopy_done
    cons_deepcopy_if_num_curried_lt_2:
    if ($num_curried < 1){ jump cons_deepcopy_if_num_curried_lt_1 }
    new_env + 1w = call @deepcopy_heap_ptr($env_end - 3w)
    jump cons_deepcopy_done
    cons_deepcopy_if_num_curried_lt_1:
    cons_deepcopy_done:
    return
}

_10_iterate_hhh($handler: (int, ()), $iterate: ((int, ()), ((int, ((int, list), ())), ()), ()), $end: (), $head: int, $tail: ((int, list), ())) {
    $_11_iterate = ($iterate, {int, int, int})
    $handler($head, $_11_iterate)
}

_10_iterate_hhh_unwrapper($env_end: int) {
    $handler: (int, ()) = $env_end - 5w
    $iterate: ((int, ()), ((int, ((int, list), ())), ()), ()) = $env_end - 4w
    $end: () = $env_end - 3w
    $head: int = $env_end - 2w
    $tail: ((int, list), ()) = $env_end - 1w
    release $env_end
    _10_iterate_hhh($handler, $iterate, $end, $head, $tail)
}

_10_iterate_hhh_release($env_end: int) {
    $__num_curried: int = $env_end + 5w
    if ($__num_curried < 4){ jump _10_iterate_hhh_release_if_num_curried_lt_4 }
    call @release_heap_ptr($env_end - 5w)
    call @release_heap_ptr($env_end - 4w)
    call @release_heap_ptr($env_end - 3w)
    call @release_heap_ptr($env_end - 1w)
    jump _10_iterate_hhh_release_done
    _10_iterate_hhh_release_if_num_curried_lt_4:
    if ($__num_curried < 3){ jump _10_iterate_hhh_release_if_num_curried_lt_3 }
    call @release_heap_ptr($env_end - 5w)
    call @release_heap_ptr($env_end - 4w)
    call @release_heap_ptr($env_end - 3w)
    jump _10_iterate_hhh_release_done
    _10_iterate_hhh_release_if_num_curried_lt_3:
    if ($__num_curried < 2){ jump _10_iterate_hhh_release_if_num_curried_lt_2 }
    call @release_heap_ptr($env_end - 5w)
    call @release_heap_ptr($env_end - 4w)
    jump _10_iterate_hhh_release_done
    _10_iterate_hhh_release_if_num_curried_lt_2:
    if ($__num_curried < 1){ jump _10_iterate_hhh_release_if_num_curried_lt_1 }
    call @release_heap_ptr($env_end - 5w)
    jump _10_iterate_hhh_release_done
    _10_iterate_hhh_release_if_num_curried_lt_1:
    _10_iterate_hhh_release_done:
    return
}

_10_iterate_hhh_deepcopy($env_end: int) {
    $num_curried: int = $env_end + 5w
    if ($num_curried < 4){ jump _10_iterate_hhh_deepcopy_if_num_curried_lt_4 }
    new_env + 0w = call @deepcopy_heap_ptr($env_end - 5w)
    new_env + 1w = call @deepcopy_heap_ptr($env_end - 4w)
    new_env + 2w = call @deepcopy_heap_ptr($env_end - 3w)
    new_env + 4w = call @deepcopy_heap_ptr($env_end - 1w)
    jump _10_iterate_hhh_deepcopy_done
    _10_iterate_hhh_deepcopy_if_num_curried_lt_4:
    if ($num_curried < 3){ jump _10_iterate_hhh_deepcopy_if_num_curried_lt_3 }
    new_env + 0w = call @deepcopy_heap_ptr($env_end - 5w)
    new_env + 1w = call @deepcopy_heap_ptr($env_end - 4w)
    new_env + 2w = call @deepcopy_heap_ptr($env_end - 3w)
    jump _10_iterate_hhh_deepcopy_done
    _10_iterate_hhh_deepcopy_if_num_curried_lt_3:
    if ($num_curried < 2){ jump _10_iterate_hhh_deepcopy_if_num_curried_lt_2 }
    new_env + 0w = call @deepcopy_heap_ptr($env_end - 5w)
    new_env + 1w = call @deepcopy_heap_ptr($env_end - 4w)
    jump _10_iterate_hhh_deepcopy_done
    _10_iterate_hhh_deepcopy_if_num_curried_lt_2:
    if ($num_curried < 1){ jump _10_iterate_hhh_deepcopy_if_num_curried_lt_1 }
    new_env + 0w = call @deepcopy_heap_ptr($env_end - 5w)
    jump _10_iterate_hhh_deepcopy_done
    _10_iterate_hhh_deepcopy_if_num_curried_lt_1:
    _10_iterate_hhh_deepcopy_done:
    return
}

iterate($handler: (int, ()), $arr: ((int, list), ()), $end: ()) {
    $iterate = (iterate_unwrapper, {})
    $_12_hhh = (_10_iterate_hhh_unwrapper, {(int, ()), ((int, ()), ((int, ((int, list), ())), ()), ()), ()})
    $_12_hhh.$handler = $handler
    $_12_hhh.$iterate = $iterate
    $_12_hhh.$end = $end

    $arr($_12_hhh, $end)
}

iterate_unwrapper($env_end: int) {
    $handler: (int, ()) = $env_end - 3w
    $arr: ((int, list), ()) = $env_end - 2w
    $end: () = $env_end - 1w
    release $env_end
    iterate($handler, $arr, $end)
}

iterate_release($env_end: int) {
    $__num_curried: int = $env_end + 5w
    if ($__num_curried < 3){ jump iterate_release_if_num_curried_lt_3 }
    call @release_heap_ptr($env_end - 3w)
    call @release_heap_ptr($env_end - 2w)
    call @release_heap_ptr($env_end - 1w)
    jump iterate_release_done
    iterate_release_if_num_curried_lt_3:
    if ($__num_curried < 2){ jump iterate_release_if_num_curried_lt_2 }
    call @release_heap_ptr($env_end - 3w)
    call @release_heap_ptr($env_end - 2w)
    jump iterate_release_done
    iterate_release_if_num_curried_lt_2:
    if ($__num_curried < 1){ jump iterate_release_if_num_curried_lt_1 }
    call @release_heap_ptr($env_end - 3w)
    jump iterate_release_done
    iterate_release_if_num_curried_lt_1:
    iterate_release_done:
    return
}

iterate_deepcopy($env_end: int) {
    $num_curried: int = $env_end + 5w
    if ($num_curried < 3){ jump iterate_deepcopy_if_num_curried_lt_3 }
    new_env + 0w = call @deepcopy_heap_ptr($env_end - 3w)
    new_env + 1w = call @deepcopy_heap_ptr($env_end - 2w)
    new_env + 2w = call @deepcopy_heap_ptr($env_end - 1w)
    jump iterate_deepcopy_done
    iterate_deepcopy_if_num_curried_lt_3:
    if ($num_curried < 2){ jump iterate_deepcopy_if_num_curried_lt_2 }
    new_env + 0w = call @deepcopy_heap_ptr($env_end - 3w)
    new_env + 1w = call @deepcopy_heap_ptr($env_end - 2w)
    jump iterate_deepcopy_done
    iterate_deepcopy_if_num_curried_lt_2:
    if ($num_curried < 1){ jump iterate_deepcopy_if_num_curried_lt_1 }
    new_env + 0w = call @deepcopy_heap_ptr($env_end - 3w)
    jump iterate_deepcopy_done
    iterate_deepcopy_if_num_curried_lt_1:
    iterate_deepcopy_done:
    return
}

handler($n: int, $ok: ()) {
    $_20 = "%d, "
    $__result = call @printf($_20, $n)
    $ok($__result)
}

handler_unwrapper($env_end: int) {
    $n: int = $env_end - 2w
    $ok: () = $env_end - 1w
    release $env_end
    handler($n, $ok)
}

handler_release($env_end: int) {
    $__num_curried: int = $env_end + 5w
    if ($__num_curried < 1){ jump handler_release_if_num_curried_lt_1 }
    call @release_heap_ptr($env_end - 1w)
    jump handler_release_done
    handler_release_if_num_curried_lt_1:
    handler_release_done:
    return
}

handler_deepcopy($env_end: int) {
    $num_curried: int = $env_end + 5w
    if ($num_curried < 1){ jump handler_deepcopy_if_num_curried_lt_1 }
    new_env + 1w = call @deepcopy_heap_ptr($env_end - 1w)
    jump handler_deepcopy_done
    handler_deepcopy_if_num_curried_lt_1:
    handler_deepcopy_done:
    return
}

_23_end() {
    $_24 = 0
    exit($_24)
}

_23_end_unwrapper($env_end: int) {
    release $env_end
    _23_end()
}

_23_end_release($env_end: int) {
    return
}

_23_end_deepcopy($env_end: int) {
    return
}

exit($code: int) {
    syscall exit($code)
}

exit_unwrapper($env_end: int) {
    $code: int = $env_end - 1w
    release $env_end
    exit($code)
}

end() {
    $_21 = "end\n"
    $_23_end = (_23_end_unwrapper, {})
    $__result = call @printf($_21)
    $_23_end($__result)
}

end_unwrapper($env_end: int) {
    release $env_end
    end()
}

end_release($env_end: int) {
    return
}

end_deepcopy($env_end: int) {
    return
}

_start() {
    $_13 = 1
    $_14 = 2
    $_15 = 3
    $_16 = 4
    $nil = (nil_unwrapper, {})
    $_17_cons = (cons_unwrapper, {int, ((int, list), ())})
    $_17_cons.$head = $_16
    $_17_cons.$tail = $nil

    $_18_cons = (cons_unwrapper, {int, ((int, list), ())})
    $_18_cons.$head = $_15
    $_18_cons.$tail = $_17_cons

    $_19_cons = (cons_unwrapper, {int, ((int, list), ())})
    $_19_cons.$head = $_14
    $_19_cons.$tail = $_18_cons

    $mylist = (cons_unwrapper, {int, ((int, list), ())})
    $mylist.$head = $_13
    $mylist.$tail = $_19_cons

    $handler = (handler_unwrapper, {})
    $end = (end_unwrapper, {})
    iterate($handler, $mylist, $end)
}
