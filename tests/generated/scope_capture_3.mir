_2_foo($ok: (int)) {
    $_3 = 1
    $_4 = 2
    add($_3, $_4, $ok)
}

_2_foo_unwrapper($env_end: int) {
    $ok: (int) = $env_end - 1w
    release $env_end
    _2_foo($ok)
}

_2_foo_release($env_end: int) {
    $__num_curried: int = $env_end + 5w
    if ($__num_curried < 1){ jump _2_foo_release_if_num_curried_lt_1 }
    call @release_heap_ptr($env_end - 1w)
    jump _2_foo_release_done
    _2_foo_release_if_num_curried_lt_1:
    _2_foo_release_done:
    return
}

_2_foo_deepcopy($env_end: int) {
    $num_curried: int = $env_end + 5w
    if ($num_curried < 1){ jump _2_foo_deepcopy_if_num_curried_lt_1 }
    new_env + 0w = call @deepcopy_heap_ptr($env_end - 1w)
    jump _2_foo_deepcopy_done
    _2_foo_deepcopy_if_num_curried_lt_1:
    _2_foo_deepcopy_done:
    return
}

add($x: int, $y: int, $ok: (int)) {
    $res = @add($x, $y);
    $ok($res)
}

add_unwrapper($env_end: int) {
    $x: int = $env_end - 3w
    $y: int = $env_end - 2w
    $ok: (int) = $env_end - 1w
    release $env_end
    add($x, $y, $ok)
}

_9_foo() {
    $_10 = 0
    exit($_10)
}

_9_foo_unwrapper($env_end: int) {
    release $env_end
    _9_foo()
}

_9_foo_release($env_end: int) {
    return
}

_9_foo_deepcopy($env_end: int) {
    return
}

exit($code: int) {
    syscall exit($code)
}

exit_unwrapper($env_end: int) {
    $code: int = $env_end - 1w
    release $env_end
    exit($code)
}

_6_foo($x: int) {
    $_7 = "result: %d"
    $_9_foo = (_9_foo_unwrapper, {})
    $__result = call @printf($_7, $x)
    $_9_foo($__result)
}

_6_foo_unwrapper($env_end: int) {
    $x: int = $env_end - 1w
    release $env_end
    _6_foo($x)
}

_6_foo_release($env_end: int) {
    return
}

_6_foo_deepcopy($env_end: int) {
    return
}

foo() {
    $_6_foo = (_6_foo_unwrapper, {})
    $_13_foo = (_2_foo_unwrapper, {(int)})
    $_13_foo.$ok = $_6_foo

    $_13_foo()
}

foo_unwrapper($env_end: int) {
    release $env_end
    foo()
}

foo_release($env_end: int) {
    return
}

foo_deepcopy($env_end: int) {
    return
}

_start() {
    foo()
}
